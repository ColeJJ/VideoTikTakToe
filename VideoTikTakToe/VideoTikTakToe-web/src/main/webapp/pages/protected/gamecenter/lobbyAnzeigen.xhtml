<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Lobby anzeigen</title>
    </h:head>
    <h:body>
        <h:form>
            <h3>TikTakToe - Lobby anzeigen</h3>
            <br/>
            
            <h:panelGrid columns="2">
            
			<h:outputLabel value="Lobby Name: #{lobbyMB.aLobby.lobbyName}" />			
			
			<!-- Spieler1 , erster Spieler aus der List-->
			<h:outputLabel value="Spieler 1: " readonly="true"/>
			<h:outputLabel value="#{lobbyMB.aLobby.users[0].username}" readonly="true"/>
			<!-- Spieler2, noch leer, zweiter Spieler aus der Liste-->
			<h:outputLabel value="Spieler 2: " readonly="true"/>
			<h:outputLabel value="#{lobbyMB.aLobby.users[1].username}" readonly="true"/>
			
			<!--  Lobbygröße = User List größe -->
			<h:outputLabel value="#{lobbyMB.getLobbygroesse()}" readonly="true"/>
			
			<h:commandButton
				value="Freunde einladen"
				action="#{lobbyMB.generateCode()}"
				style=" width: 200px">
			</h:commandButton>
			<h:outputText value="Code: #{lobbyMB.aLobby.lobbyCode}"></h:outputText>
			
			<h:outputLabel value="Rundenanzahl: " />
			<h:selectOneMenu value="#{spielsessionMB.aSessionTO.rundenAnzahl}">
 				<f:selectItems value="#{spielsessionMB.bestOfs}" var="bestOf" itemValue="#{bestOf}" itemLabel="#{bestOf}" />
 			</h:selectOneMenu>
			
			</h:panelGrid>

			<h:panelGrid columns="2">
			
				<h:inputHidden value="#{lobbyMB.aLobby.id}" />
				
				<h:commandButton 
             			value="Spiel starten"	
             			action="#{spielsessionMB.spielStarten()}"				
             			style=" width: 200px">
             		<f:setPropertyActionListener target="#{spielsessionMB.aSessionTO.lobbyID}" value="#{lobbyMB.aLobby.id}"  /> 
                	<f:ajax execute="@form" render="@form" />
            	</h:commandButton>
           		 
            	<h:commandButton 
             			value="Lobby löschen"	
             			action="#{lobbyMB.lobbyLoeschen()}"				
             			style=" width: 200px">
                	<f:ajax execute="@form" render="@form" />
            	</h:commandButton>
            	
            	<h:commandButton 
             			value="Lobby verlassen" 
             			action="#{lobbyMB.lobbyVerlassen()}"
             			style=" width: 200px">
                	<f:ajax execute="@form" render="@form" />
            	</h:commandButton>
            	
			</h:panelGrid>
			 <h:messages layout="table" errorStyle="background: #AFEEEE;"
				infoStyle="background: #AFEEEE;" globalOnly="true" />
        </h:form>
    </h:body>
</html>